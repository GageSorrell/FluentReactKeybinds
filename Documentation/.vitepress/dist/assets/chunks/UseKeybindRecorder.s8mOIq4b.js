import{E as L,H as _,G as y,K as j,e as f,S as D}from"./UseKeybindDialog.Styles.J-GOknaZ.js";const G=n=>L.Full(n,F,E,_),F=({ClassNames:n,CornerDirection:c,Sequence:i,onBlur:t,onKeyDown:o,onKeyUp:e})=>y.jsx("div",{className:n==null?void 0:n.Root,onBlur:t,onKeyDown:o,onKeyUp:e,tabIndex:0,children:y.jsx(j,{CornerDirection:c,Sequence:i})}),K=["ControlLeft","ControlRight","ShiftLeft","ShiftRight","AltLeft","AltRight","MetaLeft","MetaRight"],A=n=>{const c=[],i=[];n.forEach(e=>{K.includes(e)?i.push(e):c.push(e)});const t=[...K],o=[];return t.forEach(e=>{i.includes(e)||o.push(e)}),o.forEach(e=>{const d=t.indexOf(e);t.splice(d,1)}),t.concat(c)},E=({CornerDirection:n,ExclusionList:c,MaxLength:i,OnChange:t,OnExcludedKeyPressed:o,Sequence:e,OnBlur:d})=>{const[S,a]=f.useState(e??[]),[q,U]=f.useState(!0),[l,p]=f.useState([]),M=s=>{s.preventDefault(),q&&(a(u=>[]),U(!1));const r=s.code;if(c&&c.includes(r)){o==null||o(r);return}S.length!==i&&a(u=>{const w=new Set(u),I=new Set(l),R=D(w,I)&&l.length>0;R&&p(m=>[]);const g=r===u[u.length-1],x=R?[r]:[...u.concat(g?[]:[r])];return A(x)})};f.useEffect(()=>{t==null||t(S)},[S]);const b=s=>{p(r=>[...r,s.code])},h=()=>{a(s=>[]),p(s=>[])};return{CornerDirection:n,Sequence:e,onBlur:s=>{d===void 0?h():d==null||d(s,h)},onKeyDown:M,onKeyUp:b}};export{G as K};
